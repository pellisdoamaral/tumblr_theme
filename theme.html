<!DOCTYPE html>
<html>
    <head>
        <!-- METADATA -->

        <!-- character encoding: unicode -->
        <meta charset="utf-8">

        <!-- page title: if tag page, make it "Tag - [x]". if search page, make it "Search results for [x]". if post, make it the post summary. all of these are existing variables that tumblr populates.-->
        <title>{block:TagPage}{Tag} | {/block:TagPage} {block:SearchPage}{lang:Search results for SearchQuery} | {/block:SearchPage}{block:PostSummary}{PostSummary} | {/block:PostSummary}{Title}</title>

        <!-- search engine crawlers use {MetaDescription} to display info about the page -->
        {block:Description}
            <meta name="description" content="{MetaDescription}" />
        {/block:Description}

        <!-- viewport = what's visible on the user's screen. this makes it slightly fluid, by adapting to device size. initial-scale is the default zoom, here set to 100% -->
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- this is the little icon shown on tabs -->
        <link rel="shortcut icon" href="{Favicon}"/>

        <!-- RSS link, makes it easier for RSS readers to automatically find the blog feed -->
        <link rel="alternate" type="application/rss+xml" href="{RSS}"/>

        <!-- home screen icon on some Apple devices -->
        <link rel="apple-touch-icon-precomposed" href="{PortraitURL-128}">




        <!-- customizable settings that the user can adjust -->

        <!-- header -->
        <meta name="color:Header Color" content="#2f6b2b" />
        <meta name="image:Header Image" />

        <meta name="font:Header Title Font" content="Garamond" />
        <meta name="color:Header Title Color" content="white" />
        <meta name="font:Header Description Font" content="Garamond" />
        <meta name="color:Header Description Color" content="white" />

        <!-- sidebar -->
        <meta name="color:Sidebar Color" content="#b4eb8a" />

        <meta name="font:Sidebar Font" content="Garamond" />
        <meta name="color:Sidebar Font Color" content="#1d361f" />

        <meta name="if:Show About" content="1" />
        <meta name="text:About" content="" />

        <meta name="if:Show Links" content="1" />
        <meta name="text:Links Title" content="" />

        <meta name="if:Show Pages" content="1" />
        <meta name="text:Pages Title" content="Pages" />

        <meta name="if:Show Stories" content="1" />
        <meta name="text:Stories Title" content="Story Tags" />

        <meta name="text:Ao3 Link" content="" />
        <meta name="text:Link 1" content="" />
        <meta name="text:Link 1 Name" content="" />
        <meta name="text:Link 2" content="" />
        <meta name="text:Link 2 Name" content="" />
        <meta name="text:Link 3" content="" />
        <meta name="text:Link 3 Name" content="" />

        <meta name="text:Story 1" content="" />
        <meta name="text:Story 1 Tag" content="" />
        <meta name="text:Story 2" content="" />
        <meta name="text:Story 2 Tag" content="" />
        <meta name="text:Story 3" content="" />
        <meta name="text:Story 3 Tag" content="" />
        <meta name="text:Story 4" content="" />
        <meta name="text:Story 4 Tag" content="" />
        <meta name="text:Story 5" content="" />
        <meta name="text:Story 5 Tag" content="" />
        <meta name="text:Story 6" content="" />
        <meta name="text:Story 6 Tag" content="" />




        <!-- CSS STYLING -->

        <!-- normalize.css is CSS reset code that "preserves useful defaults". thanks and credit to Nicolas Gallagher for this file. it is released under an MIT license. -->
        <link rel="stylesheet" href="https://static.tumblr.com/rwp7ohk/mXdqk60as/normalize.css" />

        <!-- contains all the base CSS for the theme I'm getting from the Build Themes book. will eventually be replaced with my own CSS, once I know more. -->
        <!--<link rel="stylesheet" href="https://static.tumblr.com/xeccbfq/lT5nwa5y4/theme.css" /> -->

        <style>
            /* might want to put some of this in a stylesheet eventually? */

            /* CSS Navigation: 
            /*
            /* General styling
            /* Masthead
            /* Sidebar
            /* Posts
            /*
            /* */


            /* General styling */
            a {
                text-decoration: none; /* links no longer have underlines by default */
                color: inherit; /* links no longer go blue by default */
            } 

            body {
                /* sets base font size to (basically) 12pt. all other font units are in em, so they scale relative to this */
                font-size: 100%; 
            }

            ul {
                list-style: none; /* no bullets */
                padding-left: 0; /* no margin */
            }

            h1 {} /* used for blog title, I'm pretty sure, @self don't forget */
            h2 {} /* used for the sidebar box titles, @self don't forget */


            /* Masthead */
            .masthead {
                background-color: {color:Header Color};
                background-image: url('{image:Header Image}');
                background-size: cover;
                /*padding: 2em;*/
                overflow: auto;
            }

            .blog-title {
                text-align: center;
                font-size: 4em;
                font-family: {font:Header Title Font};
                color: {color:Header Title Color};
                padding-top: .1em;
            }
            .blog-description {
                text-align: center;
                font-size: 1em;
                font-family: {font:Header Description Font};
                color: {color:Header Description Color};
                padding-right: 1em;
                padding-left: 1em;
            }

            .blog-avatar {
                float: right;
                right: 1%;

                padding: 1em;
            }
            .avatar-style-circle {
                border-radius:50%;
            }
            .avatar-style-square {
                border-radius:13%;
            }



            /* Sidebar */ 

            /* this is the container for the sidebar + main (the actual contents of a given page). it's here in the Sidebar category because I only need this container so the sidebar can be labeled 'position: absolute; */
            .blog-container {
                position: relative;
                overflow: hidden;
            }

            .sidebar {
                position: absolute; /* relative to the containing div, which is blog-container */
                top: 0;
                right: 0;
                bottom: 0;
                overflow:auto;

                width: 25%;

                background: {color:Sidebar Color};
                font-family: {font:Sidebar Font};
                color: {color:Sidebar Font Color};
            }

            .sidebar-box {
                padding: 4% 10% 0;
            }




            /* Posts */
            .post-container {
                width: 70%;
                margin: 100px;
                color: blue;
            }


        </style>

    </head>


    <!-- @ self don't forget this formatting -->
    <body class="{block:IndexPage}is-index-page{/block:IndexPage} {block:PermalinkPage}is-permalink-page{/block:PermalinkPage}">

        <!-- the masthead is for stuff that affects the whole site, not just specific (types of) pages. (that's what role="banner" means). so any and all page on the site will contain the masthead. -->
        <header class="masthead" role="banner">

            {block:ShowAvatar} <!-- pretty sure this is basically an if statement ("if show avatar") -->
            <div class="blog-avatar">    
                <!-- {AvatarShape} will be either "circle" or "square" -->
                <img src="{PortraitURL-128}" class="avatar-style-{AvatarShape}">
            </div>
            {/block:ShowAvatar}

            <!-- title & description -->
            <div class="blog-details">
                {block:ShowTitle}
                    <h1 class="blog-title">
                        <!-- in a header font (h1), show the title ({Title}) as a link to the home page ("/{lang:Home}") -->
                        <a href="/">{Title}</a>
                    </h1>
                {/block:ShowTitle}

                {block:ShowDescription}
                    {block:Description}
                        <p class="blog-description">{Description}</p>
                    {/block:Description}
                {/block:ShowDescription}
            </div> <!-- title & description -->

        </header> <!-- masthead -->


        <div class="blog-container"> <!-- contains sidebar and main page space, with posts and all that -->
            
            <aside class="sidebar" role="banner">

                {block:IfShowAbout}
                <div id="about" class="sidebar-box">
                    <h2>About</h2>
                    <p>{text:About}</p>
                </div> <!-- about -->
                {/block:IfShowAbout}

                {block:IfShowLinks}
                <div id="link-list" class="sidebar-box">
                    <h2>{text:Links Title}</h2>

                    <!-- unfortunately, we have to do all of these one by one. it's ugly, but c'est la vie -->
                    {block:IfAo3Link}
                    <p><a href="{text:Ao3 Link}">Ao3</a></p>
                    {/block:IfAo3Link}

                    {block:IfLink1Name}
                    <p><a href="{text:Link 1}">{text:Link 1 Name}</a></p>
                    {/block:IfLink1Name}

                    {block:IfLink2Name}
                    <p><a href="{text:Link 2}">{text:Link 2 Name}</a></p>
                    {/block:IfLink2Name}

                    {block:IfLink3Name}
                    <p><a href="{text:Link 3}">{text:Link 3 Name}</a></p>
                    {/block:IfLink3Name}


                    {block:AskEnabled}
                        <p><a href="/ask">{AskLabel}</a></p>
                    {/block:AskEnabled}

                    {block:SubmissionsEnabled}
                        <p><a href="/submit">{SubmitLabel}</a></p>
                    {/block:SubmissionsEnabled}
                </div> <!-- ask, submit, and links -->
                {/block:IfShowLinks}


                {block:IfShowStories}
                <div id="story-list" class="sidebar-box">
                    <h2>{text:Stories Title}</h2>

                    <!-- once more unto the breach, my friends -->

                    {block:IfStory1}
                    <p><a href="/tagged/{text:Story 1 Tag}/chrono">{text:Story 1}</a></p>
                    {/block:IfStory1}

                    {block:IfStory2}
                    <p><a href="/tagged/{text:Story 2 Tag}/chrono">{text:Story 2}</a></p>
                    {/block:IfStory2}

                    {block:IfStory3}
                    <p><a href="/tagged/{text:Story 3 Tag}/chrono">{text:Story 3}</a></p>
                    {/block:IfStory3}

                    {block:IfStory4}
                    <p><a href="/tagged/{text:Story 4 Tag}/chrono">{text:Story 4}</a></p>
                    {/block:IfStory4}

                    {block:IfStory5}
                    <p><a href="/tagged/{text:Story 5 Tag}/chrono">{text:Story 5}</a></p>
                    {/block:IfStory5}

                    {block:IfStory6}
                    <p><a href="/tagged/{text:Story 6 Tag}/chrono">{text:Story 6}</a></p>
                    {/block:IfStory6}

                </div>
                {/block:IfShowStories}


                {block:IfShowPages}
                <div id="page-list" class="sidebar-box">
                    <h2>{text:Pages Title}</h2>
                    <nav> <!-- standard html tag for a block of navigation links -->
                        <ul> <!-- unordered list; list items are <li> -->
                            {block:HasPages}
                            {block:Pages} <!-- I'm guessing this operates as a for-each -->
                            <li>
                                <a href="{URL}">{Label}</a>
                            </li>
                            {/block:Pages}
                            {/block:HasPages}
                        </ul>
                    </nav>
                </div> <!-- class page-list -->
                {/block:IfShowPages}


                <div id="search-bar" class="sidebar-box">
                    <!-- this creates the search bar! <form> is for a user-input interface, in this case of type 'text' -->
                    <form action="/search" method="get">
                        <input type="text" name="query" value="{SearchQuery}" placeholder="{lang:Search}"/>
                    </form>
                </div> <!-- search bar -->


                {block:Pagination}
                <nav id="pagination" class="sidebar-box"> <!-- @ self come back to style this later -->
                  <ul>
                    {block:PreviousPage}<li><a href="{PreviousPage}">{lang:Previous}</a></li>{/block:PreviousPage}
                    {block:JumpPagination length="5"}
                        {block:CurrentPage}<span class="current-page">{PageNumber}</span>{/block:CurrentPage}
                        {block:JumpPage}<a class="jump-page" href="{URL}">{PageNumber}</a>{/block:JumpPage}
                    {/block:JumpPagination}
                    {block:NextPage}<li><a href="{NextPage}">{lang:Next}</a></li>{/block:NextPage}
                  </ul>
                </nav>
                {/block:Pagination}

            </aside> <!-- sidebar -->
            

            <!-- Search results page-->
            {block:SearchPage}
            <div class="search-page message">
                {block:SearchResults} <!-- if search results found -->
                <p class="search-result">{lang:Search results for SearchQuery 2}</p> <!-- @ self: write css for <span class="search-query">, which is how tumblr's displaying the search query in this line -->
                {/block:SearchResults}

                {block:NoSearchResults} <!-- if no results found -->
                <p class="search-result">{lang:Sorry no results for SearchQuery 2}</p>
                {/block:NoSearchResults}
            </div>
            {/block:SearchPage}

            <!-- Tag page -->
            <!-- this is only shown if the tag exists; if not, you get a 'url not found' message. can I make a 'tag not used' page instead? @ self -->
            {block:TagPage}
            <div class="tag-page message">
                <p class="tag-wrapper">{lang:Showing posts tagged Tag 2}</p>

                <!-- I believe this creates a horizontal divider across the page, the style of which I can define with css -->
                <span class="divider"></span>
            </div>
            {/block:TagPage}



            <!-- @ self come back to this data-columns business. I think it's for a grid layout, which I'm not using -->
            <main role="main" class="post-container" {block:IndexPage}data-columns{/block:IndexPage}>

                <!-- Here we define all the different post types -->
                {block:Posts}
                <!-- an article is a self-contained thing, that could in theory exist without the rest of the site. you'd think that you need one for each KIND of post, but no, those are basically if/else statements. the article here is a single post, of any kind. -->
                <article>
                    {block:Text}
                    <div class="type-text post-content">
                        {block:Title} <!--if there is a title -->
                        <h2 class="title"> <!-- @ self make sure to style all the header classes (do I need to do the h1/h2/etc?) -->
                            <a href="{Permalink}">{Title}</a>
                        </h2>

                        {Body} <!-- the content of the post -->

                    </div>
                    {/block:Text}


                    {block:Photo}
                    <figure class="type-photo post-content">
                        <!-- link to high-res version of photo; PhotoAlt is the "HTML-safe version of the caption (if one exists)" (hey @self look into this) -->
                        {LinkOpenTag}<img src="{PhotoURL-HighRes}" alt="{PhotoAlt}" />{LinkCloseTag} <!-- basically an <a href> -->

                        {block:Caption}
                        <figcaption class="caption">
                            {Caption} 
                        </figcaption>
                        {/block:Caption}
                    </figure>
                    {/block:Photo}


                    {block:Photoset}
                    <figure class="type-photoset post-content">

                        {Photoset} <!-- tumblr manages layout, but @ self you can also do it in code (somewhere) -->

                        {block:Caption}
                        <figcaption class="caption">
                            {Caption} 
                        </figcaption>
                        {/block:Caption}
                    </figure>
                    {/block:Photoset}


                    {block:Quote}
                    <div class="type-quote post-content">

                        <blockquote>{Quote}</blockquote>

                        {block:Source}
                        <cite class="caption">
                            {Source}
                        </cite>
                        {/block:Source}
                    </div>
                    {/block:Quote}


                    {block:Link}
                    <div class="type-link post-content">
                        <a {Target} href="{URL}" class="link-name">{Name}</a>

                        {block:Description}
                        <div class="caption">
                            {Description}
                        </div>
                        {/block:Description}
                    </div>
                    {/block:Link}

                    {block:Chat}
                    <div class="type-chat post-content">
                        {block:Title}<h2 class="title"><a href="{Permalink}">{Title}</a></h2>{/block:Title}

                        <ul class="chat-lines">
                        {block:Lines}
                            <li>
                            {block:Label}<span class="label">{Label}</span>{/block:Label} {Line}
                            </li>
                        {/block:Lines}
                        </ul>
                    </div>
                    {/block:Chat}


                    {block:Audio}
                    <div class="type-audio post-content">
                        {block:AudioEmbed}
                            {AudioEmbed color="white"}
                        {/block:AudioEmbed}

                        {block:AlbumArt}{AlbumArtURL}{/block:AlbumArt}
                        {block:Artist}{Artist}{/block:Artist}
                        {block:Album}{Album}{/block:Album}
                        {block:TrackName}{TrackName}{/block:TrackName}

                        {block:Caption}
                        <div class="caption">
                            {Caption}
                        </div>
                        {/block:Caption}
                    </div>
                    {/block:Audio}


                    {block:Video}
                    <div class="type-video post-content">
                        {Video-700} <!-- @ self look into this -->

                        {block:Caption}
                        <div class="caption">
                            {Caption}
                        </div>
                        {/block:Caption}
                    </div>
                    {/block:Video}


                    {block:Answer}
                    <div class="type-answer post-content">
                        <!-- the question that was asked -->
                        <div class="question">
                            <p class="asker">
                                <span class="user-name">{Asker}</span>{lang:Asker asked}:
                            </p>

                            {Question}
                        </div>

                        <!-- the answer that was given -->
                        {block:Answerer}
                        <div class="answer">
                            <p class="answerer">
                                <span class="user-name">{Answerer}</span>{block:English} answered{/block:English}:
                            </p>
                            {Answer}
                        </div>
                        {/block:Answerer}

                        <!-- reblogs -->
                        <div class="ask-reblogs">
                            {Replies}
                        </div>
                    </div>
                    {/block:Answer}

                    <!-- post footer; applies to all posts -->
                    <div class="footer" role="content-info">

                        <!-- this is where we declare that tags get a # in front of them -->
                        {block:HasTags}
                        <ul class="tags">
                            {block:Tags}<li><a href="{TagURL}">#{Tag}</a></li>{/block:Tags}
                        </ul>
                        {/block:HasTags}


                        <!-- the rest of these are all going to be in a line at the bottom of the post -->
                        <!-- it is possible they'll need a div class? or each one will need one? unclear -->
                        {block:Date}
                        <a href="{Permalink}" title="{ShortMonth} {DayOfMonth}{DayOfMonthSuffix} {Year}">
                            {TimeAgo}
                        </a>
                        {/block:Date}

                        <!-- via -->
                        {block:RebloggedFrom}
                        <a class="reblog-link" href="{ReblogParentURL}">
                            {ReblogParentName}
                        </a>
                        {/block:RebloggedFrom}

                        <!-- source -->

                        <!-- notes -->
                        {block:NoteCount}
                        <a class="note-count" href="{Permalink}#notes">
                            {NoteCountWithLabel}
                        </a>
                        {/block:NoteCount}

                        <!-- reblog button -->

                        <!-- like button -->


                        <!-- special footer for permalink pages - should be instead of the above? somehow? semantically, feels like it should be 'in addition to', but I guess we'll see -->
                        {block:PermalinkPage}
                            {block:HasTags}
                            <ul class="tags">
                                {block:Tags}<li><a href="{TagURL}">#{Tag}</a></li>{/block:Tags}
                            </ul>
                            {/block:HasTags}

                            {block:PostNotes}
                            <div class="post-notes">
                                {PostNotes}
                            </div>
                            {/block:PostNotes}

                            <!-- might want to add some more things here, fex a date. maybe also embed links etc? -->

                        {/block:PermalinkPage}


                    </div> <!-- footer -->

                </article>
                {/block:Posts}
            </main>

        </div> <!-- blog-container -->

    <!-- @ self TODO: Add JavaScript from Chapter 4 -->
    </body>

</html>